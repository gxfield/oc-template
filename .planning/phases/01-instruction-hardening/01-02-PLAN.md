---
phase: 01-instruction-hardening
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - household/todos.md
  - household/shopping.md
  - household/notes.md
  - household/bills.md
  - household/maintenance.md
  - household/calendar.md
  - household/meals/this-week.md
  - AGENTS.md
autonomous: true

must_haves:
  truths:
    - "Every household markdown file has a format header that tells LLMs exactly how to read and write it"
    - "An LLM seeing a household file for the first time knows the exact line format, what to preserve, and what to modify"
    - "AGENTS.md startup checklist uses exact file paths and numbered steps with no ambiguity"
    - "The startup checklist can be followed mechanically by a cheap LLM without interpretation"
  artifacts:
    - path: "household/todos.md"
      provides: "Task list with format header"
      contains: "FORMAT:"
    - path: "household/shopping.md"
      provides: "Shopping list with format header"
      contains: "FORMAT:"
    - path: "household/notes.md"
      provides: "Notes with format header"
      contains: "FORMAT:"
    - path: "household/bills.md"
      provides: "Bills tracker with format header"
      contains: "FORMAT:"
    - path: "household/maintenance.md"
      provides: "Maintenance log with format header"
      contains: "FORMAT:"
    - path: "household/calendar.md"
      provides: "Local events with format header"
      contains: "FORMAT:"
    - path: "household/meals/this-week.md"
      provides: "Meal plan with format header"
      contains: "FORMAT:"
    - path: "AGENTS.md"
      provides: "Startup checklist with exact file paths"
      contains: "Step 1"
  key_links:
    - from: "AGENTS.md"
      to: "SOUL.md"
      via: "Startup checklist step 1"
      pattern: "SOUL\\.md"
    - from: "AGENTS.md"
      to: "TOOLS.md"
      via: "Startup checklist references"
      pattern: "TOOLS\\.md"
---

<objective>
Add machine-readable format headers to every household markdown file and rewrite the AGENTS.md startup checklist to be unambiguous for cheap LLMs.

Purpose: Currently household files have simple headers like "## Shared Task List" but no instructions telling an LLM HOW to read or write them. A cheap model seeing `bills.md` for the first time doesn't know the expected line format. Similarly, AGENTS.md says "Read SOUL.md" but doesn't give the exact path or say what to do with the information. Format headers and explicit numbered steps eliminate guesswork.

Output: 7 household markdown files with format headers, and an AGENTS.md with a precise numbered startup checklist.
</objective>

<execution_context>
@/Users/greg/.claude/get-shit-done/workflows/execute-plan.md
@/Users/greg/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/STRUCTURE.md
@household/todos.md
@household/shopping.md
@household/notes.md
@household/bills.md
@household/maintenance.md
@household/calendar.md
@household/meals/this-week.md
@AGENTS.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add format headers to all 7 household markdown files</name>
  <files>
    household/todos.md
    household/shopping.md
    household/notes.md
    household/bills.md
    household/maintenance.md
    household/calendar.md
    household/meals/this-week.md
  </files>
  <action>
Read each household markdown file. Add a format header block at the top of each file, above the existing content. The format header must be inside an HTML comment so it's invisible to humans reading the file but visible to LLMs parsing it. Use this structure:

```
<!-- FORMAT:
  Purpose: [what this file is for]
  Line format: [exact format of each line]
  To add: [exact steps to add an item]
  To remove/complete: [exact steps]
  Rules:
    - [rule 1]
    - [rule 2]
  Example line: [one example of a correctly formatted line]
-->
```

**household/todos.md:**
```
<!-- FORMAT:
  Purpose: Shared household task list
  Line format: "- [ ] Task description" (incomplete) or "- [x] Task description" (complete)
  To add: Append "- [ ] Task description" at the end of the list
  To complete: Change "- [ ]" to "- [x]" on the matching line (case-insensitive match)
  To remove: Delete the entire line
  Rules:
    - Always use "- [ ]" with a space inside brackets for incomplete tasks
    - Always use "- [x]" with lowercase x for completed tasks
    - One task per line
    - Preserve all existing lines when modifying
  Example line: - [ ] Fix the kitchen faucet
-->
```
Keep the existing "## Shared Task List" heading and items below the comment.

**household/shopping.md:**
```
<!-- FORMAT:
  Purpose: Grocery and shopping list
  Line format: "- Item name" (one item per line)
  To add: Append "- Item name" at the end of the list. Capitalize first letter.
  To add multiple: Parse comma-separated and "and"-separated lists into individual lines
  To remove (bought): Delete the entire line for that item
  Rules:
    - One item per line
    - Use "- " prefix (dash space)
    - Capitalize first letter of item name
    - No checkboxes -- items are either on the list or removed
    - When user says "bought X", remove the line; don't mark it
  Example line: - Whole milk
-->
```

**household/notes.md:**
```
<!-- FORMAT:
  Purpose: Quick household notes with timestamps
  Line format: "- [YYYY-MM-DD h:mm AM/PM PT] Note text"
  To add: Append "- [TIMESTAMP PT] Note text" at the end. Get current Pacific time from `node calendar.js now`.
  Rules:
    - Every note MUST have a Pacific timestamp
    - Timestamp format: YYYY-MM-DD h:mm AM/PM PT (e.g., 2026-02-09 10:30 PM PT)
    - Get time from `node calendar.js now`, NOT from `date` command (which returns UTC)
    - One note per line
    - Preserve all existing notes
  Example line: - [2026-02-09 10:30 PM PT] Plumber's number is 555-1234
-->
```

**household/bills.md:**
```
<!-- FORMAT:
  Purpose: Bill tracking with due dates and payment status
  Line format: "- [ ] Bill Name | $Amount | Due: YYYY-MM-DD" (unpaid) or "- [x] Bill Name | $Amount | Due: YYYY-MM-DD | Paid: YYYY-MM-DD" (paid)
  To add: Append a new line with bill details in the format above
  To mark paid: Change "- [ ]" to "- [x]" and append "| Paid: YYYY-MM-DD" with today's Pacific date
  To query upcoming: Filter lines with "- [ ]" (unpaid) and compare due date to current Pacific date
  Rules:
    - Use pipe "|" as field separator
    - Dollar amounts include "$" prefix
    - Dates in YYYY-MM-DD format
    - Sort by due date (earliest first) when rewriting
    - Get current date from `node calendar.js now`
  Example line: - [ ] Electric Bill | $145.00 | Due: 2026-02-15
  Example paid: - [x] Internet | $79.99 | Due: 2026-02-01 | Paid: 2026-02-01
-->
```

**household/maintenance.md:**
```
<!-- FORMAT:
  Purpose: Home maintenance log and upcoming tasks
  Line format: "- [YYYY-MM-DD] Task description (Status)" where Status is: done, scheduled, or needed
  To add: Append a new line with date and task
  Rules:
    - Date is when the task was done or is scheduled
    - Status in parentheses at end: (done), (scheduled), (needed)
    - Keep chronological order (newest at bottom)
    - Get dates from `node calendar.js now`
  Example line: - [2026-02-09] Changed furnace filter (done)
  Example line: - [2026-03-01] Schedule HVAC inspection (needed)
-->
```

**household/calendar.md:**
```
<!-- FORMAT:
  Purpose: Local event notes that don't go on Google Calendar (birthdays, reminders, recurring dates)
  Line format: "- MM-DD: Event description" (annual) or "- YYYY-MM-DD: Event description" (one-time)
  To add: Insert in date order
  Rules:
    - Annual events use MM-DD (no year): "- 03-20: Mom's birthday"
    - One-time events use full date: "- 2026-06-15: Family reunion"
    - Keep sorted by month-day
    - These are reference notes, not Google Calendar events
  Example line: - 03-20: Mom's birthday
  Example line: - 2026-06-15: Family reunion at Lake Tahoe
-->
```

**household/meals/this-week.md:**
```
<!-- FORMAT:
  Purpose: This week's dinner plan (Monday through Sunday)
  Line format: "- Day: Meal description"
  To set plan: Replace the meal lines for the specified days
  To query "what's for dinner": Get current Pacific day of week from `node calendar.js now`, find matching day line
  Rules:
    - Days must be full names: Monday, Tuesday, Wednesday, Thursday, Friday, Saturday, Sunday
    - One meal per day per line
    - "- Day: No plan" if nothing planned
    - Keep all 7 days present even if some have no plan
    - Week resets on Monday
  Example:
    - Monday: Chicken stir fry
    - Tuesday: Pasta with marinara
    - Wednesday: No plan
-->
```

Preserve all existing content below the format header in each file. Replace placeholder sample data with realistic example data that matches the format header (e.g., replace "- Bill 1: Due Date" with "- [ ] Electric Bill | $145.00 | Due: 2026-02-15"). This way the file itself serves as a living example.
  </action>
  <verify>
    For each of the 7 files, grep for "FORMAT:" to confirm format header exists.
    For each file, confirm the existing content section still exists below the header.
    Check that bills.md example data uses the pipe-separated format from the header.
    Check that meals/this-week.md has all 7 days listed.
  </verify>
  <done>
    All 7 household markdown files have HTML-comment format headers with Purpose, Line format, To add, Rules, and Example. An LLM encountering any of these files for the first time can read the format header and know exactly how to add, modify, or query data without guessing. Sample data in each file matches the documented format.
  </done>
</task>

<task type="auto">
  <name>Task 2: Rewrite AGENTS.md startup checklist with exact file paths and numbered steps</name>
  <files>AGENTS.md</files>
  <action>
Read AGENTS.md. Rewrite the "Every Session" section to be a precise, numbered startup checklist that a cheap LLM can follow mechanically. The current version says things like "Read SOUL.md" without giving the path or explaining what to extract.

Replace the "Every Session" section with:

```
## Every Session Startup Checklist

Follow these steps IN ORDER at the start of every session. Do not skip steps.

**Step 1: Load identity**
- Read `/SOUL.md` -- this defines your personality and boundaries
- Read `/IDENTITY.md` -- this is your name, creature type, vibe, emoji
- You ARE this identity for the entire session

**Step 2: Load user context**
- Read `/USER.md` -- this is who you're helping (name, timezone, preferences)
- The user is in Pacific Time (America/Los_Angeles). All times you show must be Pacific.

**Step 3: Load recent memory**
- Read `/memory/YYYY-MM-DD.md` for today's date (may not exist yet -- that's OK)
- Read `/memory/YYYY-MM-DD.md` for yesterday's date (may not exist yet -- that's OK)
- To get today's Pacific date: run `node calendar/calendar.js now`
- DO NOT use `date` shell command (returns UTC, wrong after 4 PM Pacific)

**Step 4: Load tools reference**
- Read `/TOOLS.md` -- this is your command reference for calendar, household files, and Telegram handling
- Pay attention to DO/DO NOT tables in each section

**Step 5: (MAIN SESSION ONLY) Load long-term memory**
- Read `/MEMORY.md` -- your curated long-term memory
- ONLY load this in direct chat with your human
- DO NOT load in shared contexts (Discord, group chats, sessions with other people)
- This contains personal context that must not leak

**Step 6: You're ready**
- You now have: identity, user context, recent memory, tool reference
- If BOOTSTRAP.md exists, follow it (first-run only)
- Otherwise, greet naturally and wait for input
```

Also update the "Memory" section to include exact file paths:

Replace references like "daily notes" with exact path patterns:
- Daily notes: `/memory/YYYY-MM-DD.md` (e.g., `/memory/2026-02-09.md`)
- Long-term memory: `/MEMORY.md`
- Create `/memory/` directory if it doesn't exist

Keep all other sections of AGENTS.md intact (Safety, External vs Internal, Group Chats, Heartbeats, etc.). Only modify the "Every Session" and "Memory" sections.
  </action>
  <verify>
    Grep AGENTS.md for "Step 1" through "Step 6" to confirm all steps present.
    Grep AGENTS.md for "/SOUL.md" to confirm exact paths used.
    Grep AGENTS.md for "DO NOT use `date`" to confirm timezone warning in startup.
    Confirm Safety, External vs Internal, Group Chats, and Heartbeats sections still exist.
  </verify>
  <done>
    AGENTS.md startup checklist has 6 numbered steps with exact file paths. Each step says exactly what to read and why. Timezone warning is embedded in Step 3. A cheap LLM following these steps mechanically will load all necessary context in the correct order without interpretation.
  </done>
</task>

</tasks>

<verification>
1. All 7 household files have format headers (grep for "FORMAT:" in each)
2. Format headers include Purpose, Line format, To add, Rules, and Example
3. AGENTS.md has numbered Steps 1-6 with exact file paths
4. AGENTS.md Step 3 warns against using `date` command
5. No existing content was lost from any file
6. bills.md and meals/this-week.md have structured sample data matching their format headers
</verification>

<success_criteria>
A cheap LLM encountering this workspace for the first time:
- Follows AGENTS.md Steps 1-6 in order, loading all correct files
- Opens any household file and immediately knows the exact line format from the header
- Adds a new bill in the correct pipe-separated format
- Adds a note with Pacific timestamp (not UTC)
- Knows meals/this-week.md must have all 7 days listed
</success_criteria>

<output>
After completion, create `.planning/phases/01-instruction-hardening/01-02-SUMMARY.md`
</output>
